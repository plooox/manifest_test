{"ast":null,"code":"import _slicedToArray from\"/var/jenkins_home/workspace/pipeline-test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import Calendar from\"@toast-ui/react-calendar\";import\"tui-calendar/dist/tui-calendar.css\";import Typography from\"../assets/Typography\";// If you use the default popups, use this.\nimport\"tui-date-picker/dist/tui-date-picker.css\";import\"tui-time-picker/dist/tui-time-picker.css\";import{jsx as _jsx}from\"react/jsx-runtime\";var calendars=[{id:\"0\",name:\"Private\",bgColor:\"#9e5fff\",borderColor:\"#9e5fff\"}];// yyyy-MM-DD -> DATE()\nfunction parseStrToDate(str){var sYear=str.substring(0,4);var sMonth=str.substring(5,7);var sDate=str.substring(8,10);return new Date(sYear,sMonth-1,sDate);}export default function TimeTable(_ref){var data=_ref.data;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),startDay=_React$useState2[0],setStartDay=_React$useState2[1];var WeekDay={MO:1,TU:2,WE:3,TH:4,FR:5,SA:6,SU:0};var templates={weekDayname:function weekDayname(schedule){// 시작 기준일 잡기 (해당 주 일요일)\nif(schedule.day===0){setStartDay(schedule.renderDate);}return\"<Typography>\"+schedule.dayName+\"</Typography>\";}};var pivotDay=parseStrToDate(startDay);var sch=[];for(var i=0;i<Object.values(data).length;++i){// 시작일자 구하기: 기준일 + 일 + 시 + 분\nvar lectureStart=new Date(pivotDay);lectureStart.setDate(lectureStart.getDate()+WeekDay[Object.values(data)[i][\"lecture_first_sch\"].substring(0,2)]);// console.log(Number(Object.values(data)[i][\"lecture_first_sch\"].substring(2,4)))\nlectureStart.setHours(lectureStart.getHours()+Number(Object.values(data)[i][\"lecture_first_sch\"].substring(2,4)));lectureStart.setMinutes(lectureStart.getMinutes()+Number(Object.values(data)[i][\"lecture_first_sch\"].substring(4,6)));// 종료일자 구하기: 기준일 + 일 + 시 + 분\nvar lectureEnd=new Date(pivotDay);lectureEnd.setDate(lectureEnd.getDate()+WeekDay[Object.values(data)[i][\"lecture_first_sch\"].substring(0,2)]);// console.log(Number(Object.values(data)[i][\"lecture_first_sch\"].substring(2,4)))\nlectureEnd.setHours(lectureEnd.getHours()+Number(Object.values(data)[i][\"lecture_first_sch\"].substring(6,8)));lectureEnd.setMinutes(lectureEnd.getMinutes()+Number(Object.values(data)[i][\"lecture_first_sch\"].substring(8,10)));// 랜덤 색상 지정\nvar colorStyle=\"#\"+Math.round(Math.random()*0xffffff).toString(16);sch.push({id:Object.values(data)[i][\"lecture_idx\"],calendarId:Object.values(data)[i][\"lecture_idx\"],title:Object.values(data)[i][\"lecture_name\"]+\"(\"+Object.values(data)[i][\"lecture_id\"]+\")\",category:\"time\",start:lectureStart,end:lectureEnd,bgColor:colorStyle});// second sch이 있으면\nif(Object.values(data)[i][\"lecture_second_sch\"].length===10){lectureStart=new Date(pivotDay);lectureStart.setDate(lectureStart.getDate()+WeekDay[Object.values(data)[i][\"lecture_second_sch\"].substring(0,2)]);// console.log(Number(Object.values(data)[i][\"lecture_second_sch\"].substring(2,4)))\nlectureStart.setHours(lectureStart.getHours()+Number(Object.values(data)[i][\"lecture_second_sch\"].substring(2,4)));lectureStart.setMinutes(lectureStart.getMinutes()+Number(Object.values(data)[i][\"lecture_second_sch\"].substring(4,6)));lectureEnd=new Date(pivotDay);lectureEnd.setDate(lectureEnd.getDate()+WeekDay[Object.values(data)[i][\"lecture_second_sch\"].substring(0,2)]);// console.log(Number(Object.values(data)[i][\"lecture_second_sch\"].substring(2,4)))\nlectureEnd.setHours(lectureEnd.getHours()+Number(Object.values(data)[i][\"lecture_second_sch\"].substring(6,8)));lectureEnd.setMinutes(lectureEnd.getMinutes()+Number(Object.values(data)[i][\"lecture_second_sch\"].substring(8,10)));// Schedule 입력 양식 (Object List)\n/*\n                [\n                    {\n                        id: id,\n                        canlandarId: calandarId,\n                        title: 시간표 블록에 나올 제목\n                        category: \"time\" 고정\n                        start: 시작시간 (Date변수)\n                        end: 종료시간 (Date변수)\n                        bgColor: 색상\n                    },\n                    ....\n                ]\n            */sch.push({id:Object.values(data)[i][\"lecture_idx\"],calendarId:Object.values(data)[i][\"lecture_idx\"],title:Object.values(data)[i][\"lecture_name\"]+\"(\"+Object.values(data)[i][\"lecture_id\"]+\")\",category:\"time\",start:lectureStart,end:lectureEnd,bgColor:colorStyle});}}return/*#__PURE__*/_jsx(Calendar,{calendars:calendars// 달력에서 가져온 양식이라 달력요소 제거 필요\n,useDetailPopup:false,useCreationPopup:false,unselectable:true,isReadOnly:true,disableClick:true,disableDblClick:true,taskView:false,scheduleView:[\"time\"],template:templates// -------------------------------------------\n,schedules:sch});}","map":{"version":3,"sources":["/var/jenkins_home/workspace/pipeline-test/src/components/views/StudentMypageTimetable.js"],"names":["React","Calendar","Typography","calendars","id","name","bgColor","borderColor","parseStrToDate","str","sYear","substring","sMonth","sDate","Date","TimeTable","data","useState","startDay","setStartDay","WeekDay","MO","TU","WE","TH","FR","SA","SU","templates","weekDayname","schedule","day","renderDate","dayName","pivotDay","sch","i","Object","values","length","lectureStart","setDate","getDate","setHours","getHours","Number","setMinutes","getMinutes","lectureEnd","colorStyle","Math","round","random","toString","push","calendarId","title","category","start","end"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport Calendar from \"@toast-ui/react-calendar\";\nimport \"tui-calendar/dist/tui-calendar.css\";\nimport Typography from \"../assets/Typography\";\n\n// If you use the default popups, use this.\nimport \"tui-date-picker/dist/tui-date-picker.css\";\nimport \"tui-time-picker/dist/tui-time-picker.css\";\n\nconst calendars = [\n  {\n    id: \"0\",\n    name: \"Private\",\n    bgColor: \"#9e5fff\",\n    borderColor: \"#9e5fff\",\n  },\n];\n\n// yyyy-MM-DD -> DATE()\nfunction parseStrToDate(str) {\n  var sYear = str.substring(0, 4);\n  var sMonth = str.substring(5, 7);\n  var sDate = str.substring(8, 10);\n  return new Date(sYear, sMonth - 1, sDate);\n}\n\nexport default function TimeTable({ data }) {\n  const [startDay, setStartDay] = React.useState(\"\");\n  const WeekDay = { MO: 1, TU: 2, WE: 3, TH: 4, FR: 5, SA: 6, SU: 0 };\n\n  const templates = {\n    weekDayname: (schedule) => {\n      // 시작 기준일 잡기 (해당 주 일요일)\n      if (schedule.day === 0) {\n        setStartDay(schedule.renderDate);\n      }\n      return \"<Typography>\" + schedule.dayName + \"</Typography>\";\n    },\n  };\n  const pivotDay = parseStrToDate(startDay);\n  const sch = [];\n  for (var i = 0; i < Object.values(data).length; ++i) {\n    // 시작일자 구하기: 기준일 + 일 + 시 + 분\n    var lectureStart = new Date(pivotDay);\n    lectureStart.setDate(\n      lectureStart.getDate() +\n        WeekDay[Object.values(data)[i][\"lecture_first_sch\"].substring(0, 2)]\n    );\n    // console.log(Number(Object.values(data)[i][\"lecture_first_sch\"].substring(2,4)))\n    lectureStart.setHours(\n      lectureStart.getHours() +\n        Number(Object.values(data)[i][\"lecture_first_sch\"].substring(2, 4))\n    );\n    lectureStart.setMinutes(\n      lectureStart.getMinutes() +\n        Number(Object.values(data)[i][\"lecture_first_sch\"].substring(4, 6))\n    );\n\n    // 종료일자 구하기: 기준일 + 일 + 시 + 분\n    var lectureEnd = new Date(pivotDay);\n    lectureEnd.setDate(\n      lectureEnd.getDate() +\n        WeekDay[Object.values(data)[i][\"lecture_first_sch\"].substring(0, 2)]\n    );\n    // console.log(Number(Object.values(data)[i][\"lecture_first_sch\"].substring(2,4)))\n    lectureEnd.setHours(\n      lectureEnd.getHours() +\n        Number(Object.values(data)[i][\"lecture_first_sch\"].substring(6, 8))\n    );\n    lectureEnd.setMinutes(\n      lectureEnd.getMinutes() +\n        Number(Object.values(data)[i][\"lecture_first_sch\"].substring(8, 10))\n    );\n\n    // 랜덤 색상 지정\n    var colorStyle = \"#\" + Math.round(Math.random() * 0xffffff).toString(16);\n\n    sch.push({\n      id: Object.values(data)[i][\"lecture_idx\"],\n      calendarId: Object.values(data)[i][\"lecture_idx\"],\n      title:\n        Object.values(data)[i][\"lecture_name\"] +\n        \"(\" +\n        Object.values(data)[i][\"lecture_id\"] +\n        \")\",\n      category: \"time\",\n      start: lectureStart,\n      end: lectureEnd,\n      bgColor: colorStyle,\n    });\n\n    // second sch이 있으면\n    if (Object.values(data)[i][\"lecture_second_sch\"].length === 10) {\n      lectureStart = new Date(pivotDay);\n      lectureStart.setDate(\n        lectureStart.getDate() +\n          WeekDay[Object.values(data)[i][\"lecture_second_sch\"].substring(0, 2)]\n      );\n      // console.log(Number(Object.values(data)[i][\"lecture_second_sch\"].substring(2,4)))\n      lectureStart.setHours(\n        lectureStart.getHours() +\n          Number(Object.values(data)[i][\"lecture_second_sch\"].substring(2, 4))\n      );\n      lectureStart.setMinutes(\n        lectureStart.getMinutes() +\n          Number(Object.values(data)[i][\"lecture_second_sch\"].substring(4, 6))\n      );\n\n      lectureEnd = new Date(pivotDay);\n      lectureEnd.setDate(\n        lectureEnd.getDate() +\n          WeekDay[Object.values(data)[i][\"lecture_second_sch\"].substring(0, 2)]\n      );\n      // console.log(Number(Object.values(data)[i][\"lecture_second_sch\"].substring(2,4)))\n      lectureEnd.setHours(\n        lectureEnd.getHours() +\n          Number(Object.values(data)[i][\"lecture_second_sch\"].substring(6, 8))\n      );\n      lectureEnd.setMinutes(\n        lectureEnd.getMinutes() +\n          Number(Object.values(data)[i][\"lecture_second_sch\"].substring(8, 10))\n      );\n\n      // Schedule 입력 양식 (Object List)\n      /*\n                [\n                    {\n                        id: id,\n                        canlandarId: calandarId,\n                        title: 시간표 블록에 나올 제목\n                        category: \"time\" 고정\n                        start: 시작시간 (Date변수)\n                        end: 종료시간 (Date변수)\n                        bgColor: 색상\n                    },\n                    ....\n                ]\n            */\n      sch.push({\n        id: Object.values(data)[i][\"lecture_idx\"],\n        calendarId: Object.values(data)[i][\"lecture_idx\"],\n        title:\n          Object.values(data)[i][\"lecture_name\"] +\n          \"(\" +\n          Object.values(data)[i][\"lecture_id\"] +\n          \")\",\n        category: \"time\",\n        start: lectureStart,\n        end: lectureEnd,\n        bgColor: colorStyle,\n      });\n    }\n  }\n\n  return (\n    <Calendar\n      calendars={calendars}\n      // 달력에서 가져온 양식이라 달력요소 제거 필요\n      useDetailPopup={false}\n      useCreationPopup={false}\n      unselectable={true}\n      isReadOnly={true}\n      disableClick={true}\n      disableDblClick={true}\n      taskView={false}\n      scheduleView={[\"time\"]}\n      template={templates}\n      // -------------------------------------------\n      schedules={sch}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}